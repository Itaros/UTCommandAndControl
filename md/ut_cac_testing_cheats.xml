<?xml version="1.0" encoding="UTF-8"?>
<mdscript xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="UT_CAC_Testing_Cheats" xsi:noNamespaceSchemaLocation="http://utnas/~unitrader/XRebirthxsds/md.xsd">
  <cues>
    <cue name="Cheat_Ship_with_surplus_crew">
      <delay exact="50ms"/>
      <actions>
        <create_ship name="$constructionship" macro="macro.units_size_xl_builder_ship_macro" zone="player.zone">
          <owner exact="faction.player"/>
          <defence actor="null"/>
          <engineer actor="null"/>
          <units>
            <unit category="unitcategory.welder" mk="1" exact="50"/>
            <unit category="unitcategory.transport" mk="1" exact="50"/>
            <unit category="unitcategory.gascollector" mk="1" exact="25"/>
            <unit category="unitcategory.gascollector" mk="2" exact="25"/>
          </units>
          <safepos x="0m" y="0m" z="-10km" radius="2km"/>
        </create_ship>
        <!-- Create UT CAC NPCs --> 
        <find_dock_location name="$dock" container="$constructionship" multiple="false" />
        <create_cue_actor name="$pilot" cue="this"><owner exact="faction.player"/></create_cue_actor>
        <add_actor_to_platform actor="$pilot" dockingbay="$dock.component"/>
        <remove_cue_actor actor="$pilot" cue="this"/>
        <assign_pilot actor="$pilot" object="$constructionship"/>
        <add_to_player_squad object="$constructionship"/>
        <signal_cue_instantly cue="md.UT_CAC_Captain.Main" param="$pilot"/>
        
        <create_cue_actor name="$architect" cue="this"><owner exact="faction.player"/></create_cue_actor>
        <add_actor_to_platform actor="$architect" dockingbay="$dock.component"/>
        <remove_cue_actor actor="$architect" cue="this"/>
        <signal_cue_instantly cue="md.UT_CAC_Architect.Main" param="$architect"/>
        <assign_architect actor="$architect" object="$constructionship"/>
        
        <create_cue_actor name="$manager" cue="this">
          <owner exact="faction.player"/>
          <skills>
            <skill type="management" exact="5"/>
            <skill type="leadership" exact="5"/>
            <skill type="navigation" exact="5"/>
        </skills>
        </create_cue_actor>
        <set_entity_type entity="$manager" type="entitytype.manager"/>
        <add_actor_to_platform actor="$manager" dockingbay="$dock.component"/>
        <remove_cue_actor actor="$manager" cue="this"/>
        <signal_cue_instantly cue="md.UT_CAC_Manager.Main" param="$manager"/>
        <set_actor_account actor="$manager"/>
        <share_actor_account actor="$architect" otherobject="$manager"/>
        <signal_objects object="$manager" param="'remote_passenger_arrived'" delay="100ms"/>
        
        <!-- create NPCs using Vanilla Dialogue -->
        <create_platform_actor name="$defencemanager" dockingbay="$dock.component" type="entitytype.defencecontrol"><owner exact="faction.player"/></create_platform_actor>
        <assign_defence_manager actor="$defencemanager" object="$constructionship" />
        <create_platform_actor name="$defencemanager" dockingbay="$dock.component" type="entitytype.defencecontrol"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$engineer" dockingbay="$dock.component" type="entitytype.engineer"><owner exact="faction.player"/></create_platform_actor>
        <assign_engineer actor="$engineer" object="$constructionship"/>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistagriculture"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistpowerstorage"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistfood"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistchemical"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistprecision"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistweapons"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistpharmaceuticals"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistmetals"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistgeophysics"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistsurfacesystems"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistpowersupply"><owner exact="faction.player"/></create_platform_actor>
        <create_platform_actor name="$actor" dockingbay="$dock.component" type="entitytype.specialistaquatics"><owner exact="faction.player"/></create_platform_actor>
        
        <!-- create Trading Ship -->
        <create_ship name="$ship" macro="macro.units_size_xl_cs_omicron_ship_01_macro" zone="player.zone">
          <owner exact="faction.player"/>
          <defence actor="null"/>
          <engineer actor="null"/>
          <units>
            <unit category="unitcategory.transport" mk="1" exact="50"/>
          </units>
          <cargo>
            <wares list="[ware.fuelcells]"><fillpercent exact="100"></fillpercent></wares>
          </cargo>
          <safepos x="0m" y="0m" z="-10km" radius="2km"/>
        </create_ship>
        <!-- Create UT CAC NPCs --> 
        <find_dock_location name="$dock" container="$ship" multiple="false" />
        <create_cue_actor name="$pilot" cue="this"><owner exact="faction.player"/></create_cue_actor>
        <add_actor_to_platform actor="$pilot" dockingbay="$dock.component"/>
        <remove_cue_actor actor="$pilot" cue="this"/>
        <assign_pilot actor="$pilot" object="$ship"/>
        <set_object_commander object="$ship" commander="$constructionship" type="entitytype.manager"/>
        <signal_cue_instantly cue="md.UT_CAC_Captain.Main" param="$pilot"/>
        
        <!-- create second Trading Ship -->
        <create_ship name="$ship2" macro="macro.units_size_l_kit_energy_01_macro" zone="player.zone">
          <owner exact="faction.player"/>
          <defence actor="null"/>
          <engineer actor="null"/>
          <units>
            <unit category="unitcategory.transport" mk="1" exact="50"/>
          </units>
          <cargo>
            <wares list="[ware.fuelcells]"><fillvalue exact="2500"/></wares>
          </cargo>
          <safepos x="0m" y="0m" z="-10km" radius="2km"/>
        </create_ship>
        <!-- Create UT CAC NPCs --> 
        <find_dock_location name="$dock2" container="$ship2" multiple="false" />
        <create_cue_actor name="$pilot2" cue="this"><owner exact="faction.player"/></create_cue_actor>
        <add_actor_to_platform actor="$pilot2" dockingbay="$dock2.component"/>
        <remove_cue_actor actor="$pilot2" cue="this"/>
        <assign_pilot actor="$pilot2" object="$ship2"/>
        <set_object_commander object="$ship2" commander="$constructionship" type="entitytype.manager"/>
        <signal_cue_instantly cue="md.UT_CAC_Captain.Main" param="$pilot2"/>
      </actions>
      <cues>
        <cue name="SetDebugVars">
          <delay exact="100ms"/>
          <actions>
            <set_value name="$manager.$debug" exact="true"/>
            <set_value name="$pilot.$debug" exact="true"/>
            <set_value name="$pilot.$ut_cac.$commanderentity" exact="$manager"/>
            <set_value name="$pilot2.$debug" exact="true"/>
            <set_value name="$pilot2.$ut_cac.$commanderentity" exact="$manager"/>
          </actions>
        </cue>
        <!-- not needed anymore.
        <cue name="Cheat_Build_mats" instantiate="true">
          <conditions>
            <event_build_started object="$constructionship"/>
          </conditions>
          <actions>
            <!- - function changed: just transfers enough money to complete the build (for thesting the ressources aquirement) - ->
            <!- -set_value name="$buildmaterials" exact="$ship.buildmodule.neededslotresources.list.clone"/>
            <do_all exact="$buildmaterials.count" counter="$i">
              <add_cargo object="$ship" ware="$buildmaterials.{$i}" exact="$ship.buildmodule.neededslotresources.{$buildmaterials.{$i}}.count"/>
            </do_all- ->
            <transfer_money from="player.entity" to="$manager" amount="$manager.ship.wantedmoney"/>
          </actions>
        </cue-->
      </cues>
    </cue>
    <cue name="Cheat_money">
      <actions>
        <reward_player money="1000000000Cr"/>
      </actions>
    </cue>
    <cue name="Destroy_Attackers" instantiate="true">
      <conditions>
        <event_player_owned_attacked/>
      </conditions>
      <actions> 
        <do_if value="event.param.exists and not event.param.isplayerowned">
          <destroy_object object="event.param"/>
        </do_if>
      </actions>
    </cue>
    <cue name="Cheat_Start_equipment">
      <actions>
        <do_if value="not player.entity.inventory.{ware.inv_timewarp}.count">
          <add_inventory entity="player.entity" ware="ware.inv_timewarp" exact="1"/>
        </do_if>
        <upgrade_object_by_macro object="player.primaryship" macro="macro.unit_player_ship_jumpdrive_macro" exact="100" comment="exact in % of available slots!" />
        <add_inventory entity="player.entity" ware="ware.inv_kickstarter" exact="1000"/>
      </actions>
    </cue>
  </cues>
</mdscript>
